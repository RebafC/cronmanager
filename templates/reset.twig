{% extends "base.twig" %}

{% block title %}Reset Password
{% endblock %}

{% block content %}
	<h2>Reset Your Password</h2>

	{% if show_form %}
		<form method="post">
			<input type="hidden" name="token" value="{{ token }}">

			<div class="form-group">
				<label for="password">New Password:</label>
				<input type="password" name="password" id="password" required>
			</div>

			<div class="form-group">
				<label for="confirm_password">Confirm Password:</label>
				<input type="password" name="confirm_password" id="confirm_password" required>
			</div>

			<div class="form-group">
				<input type="checkbox" onclick="togglePassword('password', 'confirm_password')" id="showPass">
				<label for="showPass">Show password</label>
			</div>

			<button type="submit">Reset Password</button>
		</form>
	{% endif %}
{% endblock %}

{% block scripts %}
	<script>
		function togglePassword(...ids) {
      ids.forEach(id => {
          const field = document.getElementById(id);
          if (field && field.type === 'password') {
            field.type = 'text';
          } else if (field) {
            field.type = 'password';
          }
        }
      );
    }
	</script>
{% endblock %}

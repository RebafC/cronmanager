{% extends "base.twig" %}

{% block title %}Login | Cron Manager
{% endblock %}

{% block extra_styles %}
	<link rel="stylesheet" href="/assets/css/login.css">
{% endblock %}

{% block content %}
	<div class="login-container">
		<h1>üîê Login for Cron Manager</h1>

		{% if login_attempted and not login_success %}
			<div class="alert alert-danger">Invalid username or password</div>
		{% endif %}

		<form method="post">
			<div class="form-group">
				<label for="username">Username:</label>
				<input type="text" id="username" name="username" required>
			</div>

			<div class="form-group">
				<label for="password">Password:</label>
				<input type="password" id="password" name="password" required>
			</div>

      <div class="form-group">
        <input type="checkbox" id="showPassword" onclick="togglePassword('password')">
        <label for="showPassword">Show password</label>
    </div>

			<button type="submit" name="login">Login</button>
		</form>
	</div>
{% endblock %}

{% block scripts %}
<script>
function togglePassword(...ids) {
    ids.forEach(id => {
        const field = document.getElementById(id);
        if (field && field.type === 'password') {
            field.type = 'text';
        } else if (field) {
            field.type = 'password';
        }
    });
}
</script>
{% endblock %}

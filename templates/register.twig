{% extends "base.twig" %}

{% block title %}Register
{% endblock %}

{% block content %}
	<h2>Create Your Account</h2>

	{% if show_form %}
		<form method="post">
			<input type="hidden" name="token" value="{{ token }}">

			<div class="form-group">
				<label>Email:</label>
				<input type="email" value="{{ email }}" disabled>
			</div>

			<div class="form-group">
				<label for="password">Choose Password:</label>
				<input type="password" id="password" name="password" required>
			</div>

			<div class="form-group">
				<input type="checkbox" id="showPassword" onclick="togglePassword('password', 'confirm_password')">
				<label for="showPassword">Show passwords</label>
			</div>

			<div class="form-group">
				<label for="confirm_password">Confirm Password:</label>
				<input type="password" id="confirm_password" name="confirm_password" required>
			</div>

			<button type="submit">Register</button>
		</form>
	{% endif %}
{% endblock %}

{% block scripts %}
<script>
function togglePassword(...ids) {
    ids.forEach(id => {
        const field = document.getElementById(id);
        if (field && field.type === 'password') {
            field.type = 'text';
        } else if (field) {
            field.type = 'password';
        }
    });
}
</script>
{% endblock %}
